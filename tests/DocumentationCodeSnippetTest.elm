module DocumentationCodeSnippetTest exposing (tests)

{-| automatically generated by [elm-review-documentation-code-snippet](https://dark.elm.dmy.fr/packages/lue-bird/elm-review-documentation-code-snippet/latest)
-}

import Expect
import Parser
import SafeParser
import Test


tests : Test.Test
tests =
    Test.describe
        "documentation code snippets"
        [ Test.describe
            "readme"
            [ Test.describe
                "code snippet 0"
                [ Test.test
                    "0"
                    (\() ->
                        Parser.run oops__Readme_0 "a"
                            |> Expect.equal (Result.Ok "")
                    )
                ]
            , Test.describe
                "code snippet 1"
                [ Test.test
                    "0"
                    (\() ->
                        let
                            unused : SafeParser.Parser SafeParser.ZeroOrMore ()
                            unused =
                                oneAlpha__Readme_1
                                    |> SafeParser.or zeroOrMoreDigits__Readme_1
                        in
                        Expect.pass
                    )
                ]
            , Test.describe
                "code snippet 2"
                [ Test.test
                    "0"
                    (\() ->
                        SafeParser.run ohYeah__Readme_2 "1234"
                            |> Expect.equal (Result.Ok ())
                    )
                ]
            ]
        , Test.describe
            "SafeParser"
            [ Test.describe
                "keep"
                [ Test.describe
                    "code snippet 0"
                    [ Test.test
                        "0"
                        (\() ->
                            SafeParser.run point__SafeParser__keep_0 "(123,456)"
                                |> Expect.equal (Result.Ok { x = 123, y = 456 })
                        )
                    ]
                ]
            , Test.describe
                "loop"
                [ Test.describe
                    "code snippet 0"
                    [ Test.test
                        "0"
                        (\() ->
                            SafeParser.run digits__SafeParser__loop_0 "1234abc"
                                |> Expect.equal (Result.Ok "1234")
                        )
                    ]
                ]
            , Test.describe
                "succeed"
                [ Test.describe
                    "code snippet 0"
                    [ Test.test
                        "0"
                        (\() ->
                            SafeParser.run
                                (SafeParser.succeed 90210)
                                "mississippi"
                                |> Expect.equal (Result.Ok 90210)
                        )
                    , Test.test
                        "1"
                        (\() ->
                            SafeParser.run
                                (SafeParser.succeed 3.141)
                                "mississippi"
                                |> Expect.equal (Result.Ok 3.141)
                        )
                    , Test.test
                        "2"
                        (\() ->
                            SafeParser.run (SafeParser.succeed ()) "mississippi"
                                |> Expect.equal (Result.Ok ())
                        )
                    , Test.test
                        "3"
                        (\() ->
                            SafeParser.run
                                (SafeParser.succeed Maybe.Nothing)
                                "mississippi"
                                |> Expect.equal (Result.Ok Maybe.Nothing)
                        )
                    ]
                ]
            , Test.describe
                "symbol"
                [ Test.describe
                    "code snippet 0"
                    [ Test.test
                        "0"
                        (\() ->
                            SafeParser.run (SafeParser.symbol "[") "["
                                |> Expect.equal (Result.Ok ())
                        )
                    , Test.test
                        "1"
                        (\() ->
                            SafeParser.run (SafeParser.symbol "[") "4"
                                |> Expect.equal
                                    (Result.Err
                                        [ { row = 1
                                          , col = 1
                                          , problem = Parser.ExpectingSymbol "["
                                          }
                                        ]
                                    )
                        )
                    , Test.test
                        "2"
                        (\() ->
                            SafeParser.run (SafeParser.symbol "") "whatever"
                                |> Expect.equal
                                    (Result.Err
                                        [ { row = 1
                                          , col = 1
                                          , problem =
                                                Parser.Problem
                                                    "The `symbol` parser cannot match an empty string"
                                          }
                                        ]
                                    )
                        )
                    ]
                ]
            ]
        ]


oops__Readme_0 =
    Parser.oneOf [ Parser.chompWhile Char.isDigit, Parser.chompIf Char.isAlpha ]
        |> Parser.getChompedString


zeroOrMoreDigits__Readme_1 : SafeParser.Parser SafeParser.ZeroOrMore ()
zeroOrMoreDigits__Readme_1 =
    SafeParser.chompWhile Char.isDigit


oneAlpha__Readme_1 : SafeParser.Parser oneOrMore ()
oneAlpha__Readme_1 =
    SafeParser.chompIf Char.isAlpha


ohYeah__Readme_2 =
    SafeParser.loop
        ()
        (\state ->
            (SafeParser.chompIf Char.isDigit |> SafeParser.continue)
                |> SafeParser.or (SafeParser.succeed () |> SafeParser.done)
        )


type alias Point__SafeParser__keep_0 =
    { x : Basics.Int, y : Basics.Int }


int__SafeParser__keep_0 : SafeParser.Parser SafeParser.OneOrMore Basics.Int
int__SafeParser__keep_0 =
    SafeParser.succeed (++)
        |> SafeParser.keep1
            (SafeParser.chompIf Char.isDigit |> SafeParser.getChompedString)
        |> SafeParser.keep0
            (SafeParser.chompWhile Char.isDigit |> SafeParser.getChompedString)
        |> SafeParser.andThen10
            (\str ->
                case String.toInt str of
                    Maybe.Just n ->
                        SafeParser.succeed n

                    Maybe.Nothing ->
                        SafeParser.problem "not an int"
            )


point__SafeParser__keep_0 : SafeParser.Parser SafeParser.OneOrMore Point__SafeParser__keep_0
point__SafeParser__keep_0 =
    SafeParser.succeed Point__SafeParser__keep_0
        |> SafeParser.skip0 (SafeParser.symbol "(")
        |> SafeParser.keep1 int__SafeParser__keep_0
        |> SafeParser.skip0 (SafeParser.symbol ",")
        |> SafeParser.keep1 int__SafeParser__keep_0
        |> SafeParser.skip0 (SafeParser.symbol ")")


digits__SafeParser__loop_0 =
    SafeParser.loop
        ()
        (\state ->
            (SafeParser.chompIf Char.isDigit |> SafeParser.continue)
                |> SafeParser.or (SafeParser.succeed () |> SafeParser.done)
        )
        |> SafeParser.getChompedString
